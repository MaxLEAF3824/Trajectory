<!DOCTYPE html
	PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
	<meta name="keywords" content="百度地图,百度地图API，百度地图自定义工具，百度地图所见即所得工具" />
	<meta name="description" content="百度地图API自定义地图，帮助用户在可视化操作下生成百度地图" />
	<title>百度地图轨迹绘制</title>
	<!--引用百度地图API-->
	<!--Copyright by Northwestern Polytechnical University -->
	<style type="text/css">
		html,
		body {
			margin: 0;
			padding: 0;
		}

		.iw_poi_title {
			color: #CC5522;
			font-size: 14px;
			font-weight: bold;
			overflow: hidden;
			padding-right: 13px;
			white-space: nowrap
		}

		.iw_poi_content {
			font: 12px arial, sans-serif;
			overflow: visible;
			padding-top: 4px;
			white-space: -moz-pre-wrap;
			word-wrap: break-word
		}
	</style>
	<script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=WuCVtjMRUB0EdPIbInGrqGOD6dckpnLD">
	</script>
</head>

<body>
	<!--百度地图容器-->
	<!--确定地图的大小通过改动此处的长宽确定地图的大小-->
	<div style="width:1920px;height:1825px;border:#ccc solid 2px;" id="dituContent"></div>
</body>
<script type="text/javascript">
	//轨迹数组
	var t2 = [
		[104.04275, 30.69225],
		[104.04291, 30.69237],
		[104.04305, 30.69246],
		[104.04326, 30.6926],
		[104.04324, 30.69255],
		[104.04322, 30.69249],
		[104.04319, 30.69241],
		[104.0431, 30.6922],
		[104.04305, 30.69207],
		[104.043, 30.69196],
		[104.04297, 30.69187],
		[104.04289, 30.6917],
		[104.04283, 30.69148],
		[104.04281, 30.69124],
		[104.04279, 30.69101],
		[104.04275, 30.69091],
		[104.04285, 30.69085],
		[104.04294, 30.69082],
		[104.04318, 30.69074],
		[104.04344, 30.69066],
		[104.04361, 30.69061],
		[104.04394, 30.6905],
		[104.04423, 30.6904],
		[104.04467, 30.69014],
		[104.04483, 30.69002],
		[104.04514, 30.68979],
		[104.04535, 30.68962],
		[104.04545, 30.68952],
		[104.04551, 30.68946],
		[104.04553, 30.68944],
		[104.04553, 30.68944],
		[104.04554, 30.68943],
		[104.04562, 30.68937],
		[104.04572, 30.68927],
		[104.0458, 30.6892],
		[104.04593, 30.68905],
		[104.0461, 30.68888],
		[104.0463, 30.68867],
		[104.04647, 30.68849],
		[104.04668, 30.68828],
		[104.04688, 30.68808],
		[104.047, 30.68796],
		[104.04717, 30.68778],
		[104.04735, 30.68759],
		[104.04748, 30.68745],
		[104.04756, 30.68737],
		[104.0475, 30.68716],
		[104.04728, 30.68699],
		[104.04698, 30.68677],
		[104.04682, 30.68664],
		[104.04674, 30.68658],
		[104.04663, 30.68649],
		[104.0464, 30.68631],
		[104.04617, 30.68615],
		[104.046, 30.68603],
		[104.04593, 30.68597],
		[104.04579, 30.68571],
		[104.04566, 30.68549],
		[104.0455, 30.68519],
		[104.04544, 30.68508],
		[104.04536, 30.68483],
		[104.04524, 30.68455],
		[104.04518, 30.68441],
		[104.04514, 30.68432],
		[104.04507, 30.68417],
		[104.04498, 30.684],
		[104.0449, 30.68387],
		[104.04484, 30.6838],
		[104.04483, 30.68379],
		[104.04465, 30.6836],
		[104.04455, 30.6835],
		[104.04458, 30.68353],
		[104.04454, 30.68349],
		[104.04451, 30.68347],
		[104.04447, 30.68343],
		[104.04445, 30.68332],
		[104.04453, 30.68324],
		[104.04462, 30.68317],
		[104.04487, 30.68305],
		[104.04505, 30.68302],
		[104.04532, 30.68298],
		[104.04553, 30.68299],
		[104.04561, 30.68297],
		[104.04561, 30.68297],
		[104.04557, 30.68294],
		[104.04554, 30.68292],
		[104.04543, 30.68284],
		[104.04537, 30.68268],
		[104.0453, 30.68274],
		[104.04563, 30.68268],
		[104.046, 30.6829],
		[104.04654, 30.68308],
		[104.04677, 30.68314],
		[104.04717, 30.68327],
		[104.04745, 30.68339],
		[104.04773, 30.68345],
		[104.04785, 30.68348],
		[104.04808, 30.68353],
		[104.04839, 30.6836],
		[104.04864, 30.68365],
		[104.04894, 30.68372],
		[104.04915, 30.68377],
		[104.04927, 30.6838],
		[104.04949, 30.68384],
		[104.04978, 30.6839],
		[104.05004, 30.68396],
		[104.05038, 30.68397],
		[104.05045, 30.68397],
		[104.05062, 30.68402],
		[104.05074, 30.68404],
		[104.05089, 30.68407],
		[104.0511, 30.68411],
		[104.05134, 30.68416],
		[104.05152, 30.68419],
		[104.05189, 30.68426],
		[104.052, 30.68428],
		[104.05203, 30.68429],
		[104.05213, 30.68431],
		[104.05216, 30.68431],
		[104.05233, 30.68407],
		[104.05239, 30.68384],
		[104.05247, 30.68355],
		[104.05252, 30.68335],
		[104.05259, 30.68313],
		[104.05264, 30.68293],
		[104.05271, 30.68267],
		[104.05278, 30.68241],
		[104.05286, 30.68214],
		[104.05292, 30.68194],
		[104.053, 30.68163],
		[104.05312, 30.68127],
		[104.05318, 30.68107],
		[104.05319, 30.68102],
		[104.0532, 30.681],
		[104.05321, 30.68098],
		[104.05321, 30.68098],
		[104.05321, 30.68098],
		[104.05322, 30.68093],
		[104.05326, 30.6808],
		[104.05334, 30.68054],
		[104.05343, 30.68036],
		[104.05358, 30.68016],
		[104.05376, 30.67998],
		[104.05401, 30.67981],
		[104.05437, 30.67961],
		[104.05469, 30.67944],
		[104.05497, 30.67929],
		[104.05519, 30.67918],
		[104.05543, 30.67905],
		[104.05557, 30.67898],
		[104.05591, 30.67883],
		[104.05612, 30.67876],
		[104.05632, 30.6787],
		[104.05658, 30.6786],
		[104.05673, 30.67848],
		[104.05696, 30.67814],
		[104.05707, 30.67794],
		[104.05716, 30.67778],
		[104.05731, 30.67753],
		[104.05752, 30.67738],
		[104.05774, 30.67727],
		[104.05844, 30.67697],
		[104.05877, 30.67682],
		[104.05902, 30.67671],
		[104.05919, 30.67663],
		[104.05937, 30.67655],
		[104.0596, 30.67645],
		[104.0598, 30.67636],
		[104.05999, 30.67627],
		[104.0601, 30.6759],
		[104.06006, 30.67585],
		[104.05996, 30.67568],
		[104.05983, 30.6755],
		[104.05993, 30.67545],
		[104.05991, 30.67545],
		[104.05987, 30.67547],
		[104.05988, 30.67546],
		[104.05993, 30.67545],
		[104.05985, 30.67548],
		[104.05987, 30.67547],
		[104.05987, 30.67547],
		[104.05981, 30.67547],
		[104.05977, 30.6754],
		[104.0596, 30.67515],
		[104.05939, 30.67486],
		[104.05933, 30.67478],
		[104.05933, 30.67478],
		[104.05933, 30.67478],
		[104.05933, 30.67478]
	]
	var t3 = [
		[104.05914, 30.67222],
		[104.0593, 30.67214],
		[104.05915, 30.67221],
		[104.05913, 30.67222],
		[104.05913, 30.67222],
		[104.05911, 30.67223],
		[104.05894, 30.67231],
		[104.05878, 30.67238],
		[104.05864, 30.67244],
		[104.05852, 30.67239],
		[104.05852, 30.67239],
		[104.05861, 30.67235],
		[104.05869, 30.67231],
		[104.05899, 30.67217],
		[104.05924, 30.67207],
		[104.05938, 30.672],
		[104.05955, 30.67193],
		[104.05963, 30.67189],
		[104.05968, 30.67187],
		[104.05975, 30.67184],
		[104.0599, 30.67178],
		[104.06025, 30.67145],
		[104.06025, 30.6713],
		[104.06025, 30.67109],
		[104.06026, 30.67092],
		[104.06027, 30.67069],
		[104.06027, 30.67049],
		[104.06027, 30.67026],
		[104.06028, 30.66995],
		[104.0603, 30.6696],
		[104.06032, 30.66922],
		[104.06033, 30.66887],
		[104.06029, 30.66811],
		[104.0603, 30.66775],
		[104.06031, 30.66751],
		[104.06033, 30.6671],
		[104.06033, 30.6671],
		[104.06033, 30.6671],
		[104.06039, 30.66582],
		[104.06041, 30.66553],
		[104.06042, 30.66534],
		[104.06045, 30.66521],
		[104.0605, 30.66497],
		[104.0605, 30.66494],
		[104.0605, 30.66486],
		[104.0605, 30.66482],
		[104.0605, 30.66482],
		[104.0605, 30.66481],
		[104.0605, 30.66475],
		[104.0605, 30.66468],
		[104.0605, 30.66457],
		[104.0605, 30.66446],
		[104.0605, 30.6644],
		[104.0605, 30.66439],
		[104.0605, 30.66439],
		[104.0605, 30.66438],
		[104.0605, 30.66438],
		[104.0605, 30.66438],
		[104.0605, 30.66438],
		[104.0605, 30.66438],
		[104.0605, 30.66438],
		[104.0605, 30.66438],
		[104.0605, 30.66438],
		[104.0605, 30.66438],
		[104.0605, 30.66426],
		[104.06051, 30.66412],
		[104.06051, 30.66406],
		[104.06051, 30.66394],
		[104.06052, 30.66389],
		[104.06052, 30.66388],
		[104.06052, 30.66375],
		[104.06052, 30.6636],
		[104.06052, 30.66346],
		[104.06053, 30.66321],
		[104.06054, 30.66297],
		[104.06054, 30.66274],
		[104.06055, 30.66254],
		[104.06055, 30.66235],
		[104.06055, 30.66221],
		[104.06055, 30.66206],
		[104.06055, 30.66192],
		[104.06056, 30.66183],
		[104.06056, 30.66176],
		[104.06056, 30.66172],
		[104.06056, 30.66168],
		[104.06056, 30.66164],
		[104.06056, 30.66155],
		[104.06056, 30.66144],
		[104.06056, 30.66134],
		[104.06056, 30.66126],
		[104.06056, 30.66125],
		[104.06056, 30.66122],
		[104.06057, 30.66118],
		[104.06057, 30.66113],
		[104.06057, 30.66111],
		[104.06057, 30.66104],
		[104.06057, 30.66101],
		[104.06057, 30.66098],
		[104.06057, 30.66095],
		[104.06057, 30.66092],
		[104.06057, 30.66087],
		[104.06055, 30.66078],
		[104.06054, 30.66076],
		[104.06051, 30.66067],
		[104.0605, 30.66053],
		[104.06051, 30.66037],
		[104.06051, 30.66032],
		[104.06051, 30.66025],
		[104.06051, 30.66023],
		[104.06051, 30.66023],
		[104.06051, 30.66023],
		[104.06052, 30.66023],
		[104.06052, 30.66014],
		[104.06052, 30.66003],
		[104.06052, 30.65992],
		[104.06053, 30.65968],
		[104.06054, 30.65957],
		[104.06054, 30.65946],
		[104.06054, 30.65935],
		[104.06054, 30.65934],
		[104.06054, 30.65929],
		[104.06054, 30.65926],
		[104.06055, 30.65925],
		[104.06055, 30.65921],
		[104.06055, 30.65917],
		[104.06055, 30.65912],
		[104.06057, 30.65895],
		[104.06057, 30.65881],
		[104.06057, 30.6587],
		[104.06057, 30.65867],
		[104.06057, 30.65863],
		[104.06057, 30.6585],
		[104.06057, 30.65842],
		[104.06082, 30.65821],
		[104.06084, 30.65821],
		[104.06095, 30.65821],
		[104.0611, 30.65822],
		[104.06125, 30.65822],
		[104.06156, 30.65823],
		[104.06182, 30.65824],
		[104.06205, 30.6582],
		[104.06234, 30.6582],
		[104.06254, 30.6582],
		[104.06298, 30.65821],
		[104.06316, 30.65821],
		[104.06328, 30.65822],
		[104.06337, 30.65822],
		[104.06337, 30.65822],
		[104.06337, 30.65822],
		[104.0634, 30.65822],
		[104.0635, 30.65823],
		[104.0636, 30.65824],
		[104.06369, 30.65824],
		[104.0637, 30.65824],
		[104.06367, 30.65824],
		[104.06367, 30.65824],
		[104.06354, 30.65823],
		[104.06333, 30.65822],
		[104.06326, 30.65822],
		[104.06329, 30.65822]
	]
	var t4 = [
		[104.10825, 30.72667],
		[104.10802, 30.7261],
		[104.10793, 30.72585],
		[104.10783, 30.7256],
		[104.10774, 30.72536],
		[104.10769, 30.72521],
		[104.10762, 30.72498],
		[104.10754, 30.72476],
		[104.10746, 30.72452],
		[104.10738, 30.72429],
		[104.10728, 30.72401],
		[104.10721, 30.72378],
		[104.10713, 30.72355],
		[104.10705, 30.72331],
		[104.10697, 30.72308],
		[104.1069, 30.72285],
		[104.10676, 30.7227],
		[104.10667, 30.7225],
		[104.10657, 30.72224],
		[104.10647, 30.72197],
		[104.10634, 30.72167],
		[104.10617, 30.72125],
		[104.10605, 30.72095],
		[104.10593, 30.72065],
		[104.10582, 30.72038],
		[104.10573, 30.72013],
		[104.10564, 30.71999],
		[104.10548, 30.71989],
		[104.10526, 30.71975],
		[104.10501, 30.7196],
		[104.10475, 30.71946],
		[104.10449, 30.71932],
		[104.10439, 30.71927],
		[104.10426, 30.71919],
		[104.10406, 30.71917],
		[104.10382, 30.71918],
		[104.10354, 30.71919],
		[104.10332, 30.7192],
		[104.10301, 30.71921],
		[104.10265, 30.71922],
		[104.10229, 30.71923],
		[104.10193, 30.71924],
		[104.10144, 30.71926],
		[104.10106, 30.71928],
		[104.10071, 30.71929],
		[104.10036, 30.71931],
		[104.09999, 30.71932],
		[104.09961, 30.71934],
		[104.09924, 30.71936],
		[104.09902, 30.71937],
		[104.09859, 30.71939],
		[104.09822, 30.71941],
		[104.09785, 30.71942],
		[104.0975, 30.71943],
		[104.09708, 30.71945],
		[104.09671, 30.71946],
		[104.09638, 30.71947],
		[104.0961, 30.71947],
		[104.09585, 30.7194],
		[104.09563, 30.71938],
		[104.09531, 30.71939],
		[104.09495, 30.71941],
		[104.09453, 30.71943],
		[104.09409, 30.71945],
		[104.09346, 30.71947],
		[104.09296, 30.71949],
		[104.09249, 30.71953],
		[104.09202, 30.71958],
		[104.0915, 30.71962],
		[104.09096, 30.71969],
		[104.09039, 30.71979],
		[104.08992, 30.71987],
		[104.08931, 30.71999],
		[104.08866, 30.72013],
		[104.08803, 30.72029],
		[104.08739, 30.72045],
		[104.08589, 30.72086],
		[104.08528, 30.72102],
		[104.08468, 30.72118],
		[104.08408, 30.72134],
		[104.08346, 30.7215],
		[104.08302, 30.72162],
		[104.08237, 30.72179],
		[104.0817, 30.72197],
		[104.07932, 30.72262],
		[104.07723, 30.72318],
		[104.07657, 30.72334],
		[104.07592, 30.72348],
		[104.07547, 30.72358],
		[104.07481, 30.72372],
		[104.07414, 30.72382],
		[104.07232, 30.72406],
		[104.07184, 30.72412],
		[104.07133, 30.72418],
		[104.07079, 30.72425],
		[104.07028, 30.72432],
		[104.06995, 30.72436],
		[104.06942, 30.72442],
		[104.06893, 30.72448],
		[104.06825, 30.72456],
		[104.06774, 30.72463],
		[104.06712, 30.7247],
		[104.06654, 30.72477],
		[104.06596, 30.72484],
		[104.06545, 30.72491],
		[104.06488, 30.72498],
		[104.06433, 30.72505],
		[104.06396, 30.72509],
		[104.06337, 30.72516],
		[104.06267, 30.72525],
		[104.06213, 30.72532],
		[104.06164, 30.72538],
		[104.06115, 30.72544],
		[104.06067, 30.7255],
		[104.06018, 30.72556],
		[104.05976, 30.72561],
		[104.05928, 30.72567],
		[104.05837, 30.72578],
		[104.05764, 30.72584],
		[104.05713, 30.72587],
		[104.05663, 30.7259],
		[104.05611, 30.72594],
		[104.05566, 30.72597],
		[104.05524, 30.726],
		[104.05481, 30.72604],
		[104.05454, 30.72605],
		[104.05404, 30.72609],
		[104.05373, 30.72611],
		[104.05343, 30.72613],
		[104.05309, 30.72618],
		[104.05275, 30.72626],
		[104.05243, 30.72629],
		[104.05215, 30.7263],
		[104.05186, 30.72632],
		[104.05152, 30.72634],
		[104.05119, 30.72636],
		[104.05098, 30.72637],
		[104.05056, 30.72638],
		[104.05024, 30.72638],
		[104.04992, 30.72637],
		[104.04959, 30.72636],
		[104.04903, 30.72641],
		[104.04882, 30.72645],
		[104.04864, 30.72648],
		[104.04837, 30.72659],
		[104.04813, 30.72663],
		[104.04787, 30.72665],
		[104.04753, 30.72659],
		[104.04731, 30.72649],
		[104.0471, 30.72635],
		[104.047, 30.72622],
		[104.04692, 30.72607],
		[104.04687, 30.72582],
		[104.04696, 30.72554],
		[104.04717, 30.72531],
		[104.04758, 30.72506],
		[104.04771, 30.725],
		[104.04791, 30.7249],
		[104.04817, 30.72472],
		[104.04846, 30.72447],
		[104.04865, 30.72417],
		[104.04881, 30.72382],
		[104.04896, 30.72348],
		[104.04914, 30.72314],
		[104.04935, 30.72276],
		[104.04932, 30.72224],
		[104.04925, 30.72198],
		[104.04903, 30.72161],
		[104.04878, 30.72125],
		[104.04855, 30.72089],
		[104.04842, 30.72051],
		[104.04841, 30.72012],
		[104.04851, 30.71971],
		[104.0487, 30.71931],
		[104.04888, 30.71894],
		[104.04911, 30.71846],
		[104.04924, 30.71823],
		[104.04943, 30.71793],
		[104.04962, 30.71763],
		[104.0498, 30.71736],
		[104.05, 30.71706],
		[104.05024, 30.71671],
		[104.05047, 30.71634],
		[104.05067, 30.71599],
		[104.05084, 30.71562],
		[104.05097, 30.71526],
		[104.05105, 30.71476],
		[104.05108, 30.71439],
		[104.05108, 30.71418],
		[104.05108, 30.71396],
		[104.05086, 30.71382],
		[104.05061, 30.7138],
		[104.05047, 30.71379],
		[104.05021, 30.71376],
		[104.05005, 30.71375],
		[104.04992, 30.71374],
		[104.04979, 30.71373],
		[104.04967, 30.71372],
		[104.0496, 30.71371],
		[104.04952, 30.7137],
		[104.04939, 30.71369],
		[104.04931, 30.71368],
		[104.04931, 30.71368],
		[104.04931, 30.71368],
		[104.04931, 30.71368]
	]


	//创建地图函数：
	function createMap() {
		var map = new BMap.Map("dituContent"); //在百度地图容器中创建一个地图
		var point = new BMap.Point(104.07513, 30.72724); //定义一个中心点坐标
		map.centerAndZoom(point, 15); //设定地图的中心点和坐标并将地图显示在地图容器中
		window.map = map; //将map变量存储在全局
	}

	//地图事件设置函数：
	function setMapEvent() {
		map.enableDragging(); //启用地图拖拽事件，默认启用(可不写)
		map.enableScrollWheelZoom(); //启用地图滚轮放大缩小
		map.enableDoubleClickZoom(); //启用鼠标双击放大，默认启用(可不写)
		map.enableKeyboard(); //启用键盘上下左右键移动地图
	}

	//坐标转换完之后的回调函数
	translateCallback = function (data){
      if(data.status === 0) {
		for (var i = 0; i < data.points.length; i++){
			var marker = new BMap.Marker(data.points[i]);
			map.addOverlay(marker);
		}
		var polyline = new BMap.Polyline(data.points, {
			enableEditing: false, //是否启用线编辑，默认为false
			enableClicking: true, //是否响应点击事件，默认为true
			strokeWeight: '10', //折线的宽度，以像素为单位
			strokeOpacity: 0.8, //折线的透明度，取值范围0 - 1
			strokeColor: "#18a45b" //折线颜色
		});
		map.addOverlay(polyline); //添加到地图中
      }
	  else{
			console.log(data.status)
	  }
    }

	//绘制轨迹
	function drawTrajectory(trajectory) {
		var convertor = new BMap.Convertor();
		for (var i = 0; i < trajectory.length / 10 + 1; i++) {
			var pointArr = [];
			var sub_trajectory = trajectory.slice(i*10,i*10+10);
			for (var j = 0; j < sub_trajectory.length; j++){
				var p = sub_trajectory[j]
				var point = new BMap.Point(p[0], p[1])
				var marker = new BMap.Marker(point)
				pointArr.push(point)
				convertor.translate(pointArr, 3, 5, translateCallback)
			}
		}
	}

	//批量绘制轨迹
	function drawTrajectorys(trajectorys) {
		for (var i = 0; i < trajectorys.length; i++) {
			drawTrajectory(trajectorys[i])
		}
	}

	//创建和初始化地图函数：
	function initMap() {
		createMap(); //创建地图
		setMapEvent(); //设置地图事件
		drawTrajectorys([t2,t3,t4])
	}

	initMap(); //创建和初始化地图
	
</script>

</html>